import{aL as x,r as a,at as t,aw as i,au as d}from"./index-CP9bCmGD.js";import{b as j,H as b,S as l}from"./background-CxeNiwkN.js";import"./createLucideIcon-TYYbd2PC.js";const g="_container_tw6ls_1",r={container:g,"bread-background":"_bread-background_tw6ls_4","bread-background__title":"_bread-background__title_tw6ls_12","first-overlay":"_first-overlay_tw6ls_39","product-container-info":"_product-container-info_tw6ls_43","product-container-info__left-section":"_product-container-info__left-section_tw6ls_51","product-container-info__right-section":"_product-container-info__right-section_tw6ls_64","product-container-info__btn":"_product-container-info__btn_tw6ls_80"},y=()=>{const{id:c}=x(),[o,p]=a.useState([]),[u,_]=a.useState(!0);if(a.useEffect(()=>{(async()=>{try{const s=await d.get(`http://10.251.4.131/kurbonoff/getProducts?id=${c}`);p(s.data.data.records)}catch(s){console.error("Ошибка загрузки продукта:",s)}finally{_(!1)}})()},[c]),u)return t.jsx("p",{children:"Загрузка..."});if(!o)return t.jsx("p",{children:"Продукт не найден"});const f=async n=>{try{const s=await d.get(`http://10.251.4.131/kurbonoff/upload?filename=${n}`,{responseType:"blob"}),h=window.URL.createObjectURL(new Blob([s.data])),e=document.createElement("a");e.href=h,e.setAttribute("download","filename.pdf"),document.body.appendChild(e),e.click(),e.remove()}catch(s){console.log(s)}};return t.jsxs("section",{className:r.container,children:[t.jsxs("div",{className:r["bread-background"],children:[t.jsx("img",{height:205,src:j,alt:""}),t.jsxs("div",{className:r["bread-background__title"],children:[t.jsxs(i,{to:"/",children:[t.jsx(b,{}),t.jsx("h1",{children:"Home"})]}),t.jsx("span",{children:t.jsx(l,{})}),t.jsxs(i,{to:"/products",children:[t.jsx("h1",{children:"Products"}),t.jsx("span",{children:t.jsx(l,{})})]}),o.map(n=>t.jsx("h1",{style:{textTransform:"uppercase"},children:n==null?void 0:n.title},n.id))]})]}),t.jsx("section",{className:r["first-overlay"],children:t.jsxs("div",{className:r["product-container-info"],children:[t.jsx("div",{className:r["product-container-info__left-section"],children:o.map(n=>t.jsx(t.Fragment,{children:t.jsx("img",{src:`http://10.251.4.131/kurbonoff/upload?filename=${n.image_path}`,alt:"image"})}))}),t.jsx("div",{className:r["product-container-info__right-section"],children:o.map(n=>t.jsxs(t.Fragment,{children:[console.log(n.pdf_path),t.jsx("h1",{style:{textTransform:"uppercase"},children:n==null?void 0:n.title},n.id),t.jsx("p",{children:n==null?void 0:n.description}),t.jsx("button",{onClick:()=>f(n.pdf_path),className:r["product-container-info__btn"],children:"PDF DOWNLOAD"})]}))})]})}),t.jsx("section",{children:o.map(n=>t.jsx("img",{src:`http://10.251.4.131/kurbonoff/upload?filename=${n.pdf_path}`},n.pdf_path))})]})};export{y as default};
